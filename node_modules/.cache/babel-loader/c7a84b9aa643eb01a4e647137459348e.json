{"ast":null,"code":"import styles from'./Search.module.css';import React,{useEffect}from'react';import{FilterArea,ProductList}from'../../components';import{useParams,useLocation}from'react-router-dom';import{useSelector}from'../../redux/hooks';import{useDispatch}from'react-redux';import{searchProduct}from'../../redux/productSearch/slice';import{Spin}from'antd';import{MainLayout}from'../../layout/mainLayout';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Search=function Search(){var _useParams=useParams(),keywords=_useParams.keywords;//const loading = useSelector(state =>state.productSearch.loading)\nvar loading=useSelector(function(state){return state.productSearch.loading;});var error=useSelector(function(state){return state.productSearch.error;});var productList=useSelector(function(state){return state.productSearch.data;});var pagination=useSelector(function(state){return state.productSearch.pagination;});var dispatch=useDispatch();var location=useLocation();useEffect(function(){dispatch(searchProduct({nextPage:1,pageSize:10,keywords:keywords}));},[location]);var onPageChange=function onPageChange(nextPage,pageSize){dispatch(searchProduct({nextPage:nextPage,pageSize:pageSize,keywords:keywords}));};if(loading){return/*#__PURE__*/_jsx(Spin,{size:\"large\",style:{marginTop:200,marginBottom:200,marginLeft:\"auto\",marginRight:\"auto\",width:\"100%\"}});}else if(error){return/*#__PURE__*/_jsx(\"div\",{children:\"something is error\"});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles[\"page-content\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"product-list-container\"],children:/*#__PURE__*/_jsx(FilterArea,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles[\"product-list-container\"],children:/*#__PURE__*/_jsx(ProductList,{data:productList,paging:pagination,onPageChange:onPageChange})})]})})});};","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/pages/search/Search.tsx"],"names":["styles","React","useEffect","FilterArea","ProductList","useParams","useLocation","useSelector","useDispatch","searchProduct","Spin","MainLayout","Search","keywords","loading","state","productSearch","error","productList","data","pagination","dispatch","location","nextPage","pageSize","onPageChange","marginTop","marginBottom","marginLeft","marginRight","width"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAwBC,UAAxB,CAAoCC,WAApC,KAAsD,kBAAtD,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,aAAT,KAAiD,iCAAjD,CACA,OAASC,IAAT,KAAqB,MAArB,CAEA,OAASC,UAAT,KAA2B,yBAA3B,C,wFAIA,MAAO,IAAMC,CAAAA,MAAiB,CAAE,QAAnBA,CAAAA,MAAmB,EAAK,CACjC,eAAqBP,SAAS,EAA9B,CAAQQ,QAAR,YAAQA,QAAR,CACA;AACA,GAAMC,CAAAA,OAAO,CAAGP,WAAW,CAAC,SAAAQ,KAAK,QAAGA,CAAAA,KAAK,CAACC,aAAN,CAAoBF,OAAvB,EAAN,CAA3B,CACA,GAAMG,CAAAA,KAAK,CAAEV,WAAW,CAAC,SAAAQ,KAAK,QAAGA,CAAAA,KAAK,CAACC,aAAN,CAAoBC,KAAvB,EAAN,CAAxB,CACA,GAAMC,CAAAA,WAAW,CAAGX,WAAW,CAAC,SAAAQ,KAAK,QAAGA,CAAAA,KAAK,CAACC,aAAN,CAAoBG,IAAvB,EAAN,CAA/B,CACA,GAAMC,CAAAA,UAAU,CAAGb,WAAW,CAAC,SAAAQ,KAAK,QAAGA,CAAAA,KAAK,CAACC,aAAN,CAAoBI,UAAvB,EAAN,CAA9B,CAEA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,GAAMc,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACAJ,SAAS,CAAC,UAAI,CACVmB,QAAQ,CAACZ,aAAa,CAAC,CAACc,QAAQ,CAAC,CAAV,CAAaC,QAAQ,CAAE,EAAvB,CAA2BX,QAAQ,CAARA,QAA3B,CAAD,CAAd,CAAR,CACH,CAFQ,CAEP,CAACS,QAAD,CAFO,CAAT,CAIA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACF,QAAD,CAAWC,QAAX,CAAuB,CACxCH,QAAQ,CAACZ,aAAa,CAAC,CAACc,QAAQ,CAARA,QAAD,CAAWC,QAAQ,CAARA,QAAX,CAAqBX,QAAQ,CAARA,QAArB,CAAD,CAAd,CAAR,CACH,CAFD,CAIA,GAAIC,OAAJ,CAAa,CACT,mBACE,KAAC,IAAD,EACA,IAAI,CAAC,OADL,CAEA,KAAK,CAAE,CACLY,SAAS,CAAE,GADN,CAELC,YAAY,CAAE,GAFT,CAGLC,UAAU,CAAE,MAHP,CAILC,WAAW,CAAC,MAJP,CAKLC,KAAK,CAAE,MALF,CAFP,EADF,CAYD,CAbH,IAcO,IAAIb,KAAJ,CAAY,CACf,mBAAO,2CAAP,CACD,CACH,mBACI,kCACI,KAAC,UAAD,wBACI,aAAK,SAAS,CAAEjB,MAAM,CAAC,cAAD,CAAtB,wBACI,YAAK,SAAS,CAAEA,MAAM,CAAC,wBAAD,CAAtB,uBACI,KAAC,UAAD,IADJ,EADJ,cAII,YAAK,SAAS,CAAEA,MAAM,CAAC,wBAAD,CAAtB,uBACI,KAAC,WAAD,EACI,IAAI,CAAGkB,WADX,CAEI,MAAM,CAAIE,UAFd,CAGI,YAAY,CAAIK,YAHpB,EADJ,EAJJ,GADJ,EADJ,EADJ,CAkBH,CArDM","sourcesContent":["import styles from './Search.module.css';\nimport React, {useEffect} from 'react';\nimport {Header, Footer, FilterArea, ProductList} from '../../components';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { useSelector } from '../../redux/hooks';\nimport { useDispatch } from 'react-redux';\nimport { searchProduct, ProductSearchSlice} from '../../redux/productSearch/slice';\nimport { Spin } from 'antd';\nimport { STATEMENT_OR_BLOCK_KEYS } from '@babel/types';\nimport { MainLayout } from '../../layout/mainLayout';\ninterface Params {\n    keywords: string \n  }\nexport const Search : React.FC =()=> {\n    const { keywords } = useParams<Params>();\n    //const loading = useSelector(state =>state.productSearch.loading)\n    const loading = useSelector(state=> state.productSearch.loading);\n    const error= useSelector(state=> state.productSearch.error);\n    const productList = useSelector(state=> state.productSearch.data);\n    const pagination = useSelector(state=> state.productSearch.pagination);\n\n    const dispatch = useDispatch();\n    const location = useLocation();\n    useEffect(()=>{\n        dispatch(searchProduct({nextPage:1, pageSize: 10, keywords}))\n    },[location])\n\n    const onPageChange = (nextPage, pageSize)=> {\n        dispatch(searchProduct({nextPage, pageSize, keywords}))\n    }\n\n    if( loading) {\n        return (\n          <Spin\n          size=\"large\"\n          style={{\n            marginTop: 200,\n            marginBottom: 200,\n            marginLeft: \"auto\",\n            marginRight:\"auto\",\n            width: \"100%\"\n          }}\n          />\n        )\n      }\n      else if( error ) {\n        return <div>something is error</div>\n      }\n    return (\n        <div>\n            <MainLayout>\n                <div className={styles[\"page-content\"]}>\n                    <div className={styles[\"product-list-container\"]}>\n                        <FilterArea />\n                    </div>\n                    <div className={styles[\"product-list-container\"]}>\n                        <ProductList \n                            data= {productList}\n                            paging = {pagination}\n                            onPageChange = {onPageChange}\n                        />\n                    </div>\n                </div>\n          </MainLayout>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}