{"ast":null,"code":"var _jsxFileName = \"/Users/melony/Desktop/react-travel/src/pages/home/HomePage.tsx\";\nimport React from \"react\";\nimport { Header, Footer, Carousel, SideMenu, ProductCollection } from \"../../components\";\nimport { Row, Col, Typography, Spin } from \"antd\";\nimport sideImage from \"../../assets/images/sider_2019_12-09.png\";\nimport sideImage2 from \"../../assets/images/sider_2019_02-04.png\";\nimport sideImage3 from \"../../assets/images/sider_2019_02-04-2.png\";\nimport styles from \"./HomePage.module.css\";\nimport { withTranslation } from \"react-i18next\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass HomePageComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productList: [],\n      loading: true,\n      error: null\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const {\n        data\n      } = await axios.get(\"http://123.56.149.216:8080/api/productCollections\", {});\n      this.setState({\n        loading: false,\n        error: null,\n        productList: data\n      });\n    } catch (err) {\n      if (err instanceof Error) {\n        this.setState({\n          error: err.message,\n          loading: false\n        });\n      }\n    }\n  }\n\n  render() {\n    // console.log(this.props.t)\n    const {\n      t\n    } = this.props;\n    const {\n      productList,\n      loading,\n      error\n    } = this.state;\n\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\",\n        style: {\n          marginTop: 200,\n          marginBottom: 200,\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"something is error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"page-content\"],\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(SideMenu, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 18,\n            children: /*#__PURE__*/_jsxDEV(Carousel, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ProductCollection, {\n          title: /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            type: \"warning\",\n            children: t(\"home_page.hot_recommended\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this),\n          sideImage: sideImage,\n          products: productList[0].touristRoutes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ProductCollection, {\n          title: /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            type: \"danger\",\n            children: t(\"home_page.new_arrival\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this),\n          sideImage: sideImage2,\n          products: productList[1].touristRoutes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ProductCollection, {\n          title: /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            type: \"success\",\n            children: t(\"home_page.domestic_travel\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this),\n          sideImage: sideImage3,\n          products: productList[2].touristRoutes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport const HomePage = withTranslation()(HomePageComponent);","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/pages/home/HomePage.tsx"],"names":["React","Header","Footer","Carousel","SideMenu","ProductCollection","Row","Col","Typography","Spin","sideImage","sideImage2","sideImage3","styles","withTranslation","axios","HomePageComponent","Component","constructor","props","state","productList","loading","error","componentDidMount","data","get","setState","err","Error","message","render","t","marginTop","marginBottom","marginLeft","marginRight","width","touristRoutes","HomePage"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Header,\n  Footer,\n  Carousel,\n  SideMenu,\n  ProductCollection,\n  \n} from \"../../components\";\nimport { Row, Col, Typography, Spin } from \"antd\";\nimport { productList1, productList2, productList3 } from \"./mockups\";\nimport sideImage from \"../../assets/images/sider_2019_12-09.png\";\nimport sideImage2 from \"../../assets/images/sider_2019_02-04.png\";\nimport sideImage3 from \"../../assets/images/sider_2019_02-04-2.png\";\nimport styles from \"./HomePage.module.css\";\nimport { withTranslation, WithTranslation } from \"react-i18next\";\nimport axios from \"axios\";\ninterface State {\n  productList: any[],\n  error: string | null,\n  loading: boolean\n}\nclass HomePageComponent extends React.Component<WithTranslation, State> {\n\n  constructor(props) {\n    super(props)\n    this.state= {\n      productList:[],\n      loading: true,\n      error:null\n    }\n  }\n\n  async componentDidMount () {\n    try {\n   const {data} = await axios.get(\"http://123.56.149.216:8080/api/productCollections\",{\n    \n    });\n    this.setState({\n      loading: false,\n      error: null,\n      productList:data\n    });\n  } catch (err) {\n    if( err instanceof Error) {\n      this.setState({\n        error: err.message,\n        loading: false\n      })\n    }\n   \n  }\n  }\n\n  render() {\n    // console.log(this.props.t)\n    const { t } = this.props;\n    const { productList, loading, error } = this.state;\n    if( loading) {\n      return (\n        <Spin\n        size=\"large\"\n        style={{\n          marginTop: 200,\n          marginBottom: 200,\n          marginLeft: \"auto\",\n          marginRight:\"auto\",\n          width: \"100%\"\n        }}\n        />\n      )\n    }\n    if( error ) {\n      return <div>something is error</div>\n    }\n    \n      return (\n        <>\n          <Header />\n          {/* 页面内容 content */}\n          <div className={styles[\"page-content\"]}>\n            <Row style={{ marginTop: 20 }}>\n              <Col span={6}>\n                <SideMenu />\n              </Col>\n              <Col span={18}>\n                <Carousel />\n              </Col>\n            </Row>\n            <ProductCollection\n              title={\n                <Typography.Title level={3} type=\"warning\">\n                  {t(\"home_page.hot_recommended\")}\n                </Typography.Title>\n              }\n              sideImage={sideImage}\n              products={productList[0].touristRoutes}\n            />\n            <ProductCollection\n              title={\n                <Typography.Title level={3} type=\"danger\">\n                  {t(\"home_page.new_arrival\")}\n                </Typography.Title>\n              }\n              sideImage={sideImage2}\n              products={productList[1].touristRoutes}\n            />\n            <ProductCollection\n              title={\n                <Typography.Title level={3} type=\"success\">\n                  {t(\"home_page.domestic_travel\")}\n                </Typography.Title>\n              }\n              sideImage={sideImage3}\n              products={productList[2].touristRoutes}\n            />\n           \n          </div>\n          <Footer />\n        </>\n      );\n    \n    \n  }\n}\n\nexport const HomePage = withTranslation()(HomePageComponent)"]},"metadata":{},"sourceType":"module"}