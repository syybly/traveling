{"ast":null,"code":"var _jsxFileName = \"/Users/melony/Desktop/react-travel/src/pages/search/Search.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from './Search.module.css';\nimport React from 'react';\nimport { FilterArea, ProductList } from '../../components';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { useSelector } from '../../redux/hooks';\nimport { useDispatch } from 'react-redux';\nimport { Spin } from 'antd';\nimport { MainLayout } from '../../layout/mainLayout';\nimport { searchProducts } from \"./mockup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Search = () => {\n  _s();\n\n  const {\n    keywords\n  } = useParams(); //const loading = useSelector(state =>state.productSearch.loading)\n\n  const loading = useSelector(state => state.productSearch.loading);\n  const error = useSelector(state => state.productSearch.error); // const productList = useSelector(state=> state.productSearch.data);\n\n  const pagination = useSelector(state => state.productSearch.pagination);\n  const dispatch = useDispatch();\n  const location = useLocation(); // useEffect(()=>{\n  //     dispatch(searchProduct({nextPage:1, pageSize: 10, keywords}))\n  // },[location])\n  // const pageSize = pagination.pageSize;\n\n  const getPageData = (data, nextPage) => {\n    const currentPageData = data.slice((nextPage - 1) * 10, 10);\n    return currentPageData;\n  };\n\n  const onPageChange = (nextPage, pageSize) => {// dispatch(searchProduct({nextPage, pageSize, keywords}))\n    // searchProducts = searchProducts.slice((nextPage-1)*pageSize,pageSize)\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\",\n      style: {\n        marginTop: 200,\n        marginBottom: 200,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this);\n  } else if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"something is error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(MainLayout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"page-content\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"product-list-container\"],\n          children: /*#__PURE__*/_jsxDEV(FilterArea, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"product-list-container\"],\n          children: /*#__PURE__*/_jsxDEV(ProductList, {\n            data: searchProducts // data = {getPageData(searchProducts,pagination.currentPage)}\n            ,\n            paging: pagination,\n            onPageChange: onPageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Search, \"CfWS0ISvuWTTckhYNsTfY3yJII4=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useDispatch, useLocation];\n});\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/pages/search/Search.tsx"],"names":["styles","React","FilterArea","ProductList","useParams","useLocation","useSelector","useDispatch","Spin","MainLayout","searchProducts","Search","keywords","loading","state","productSearch","error","pagination","dispatch","location","getPageData","data","nextPage","currentPageData","slice","onPageChange","pageSize","marginTop","marginBottom","marginLeft","marginRight","width"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAA+B,OAA/B;AACA,SAAwBC,UAAxB,EAAoCC,WAApC,QAAsD,kBAAtD;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,IAAT,QAAqB,MAArB;AAEA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,cAAT,QAA+B,UAA/B;;AAIA,OAAO,MAAMC,MAAiB,GAAE,MAAK;AAAA;;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAeR,SAAS,EAA9B,CADiC,CAEjC;;AACA,QAAMS,OAAO,GAAGP,WAAW,CAACQ,KAAK,IAAGA,KAAK,CAACC,aAAN,CAAoBF,OAA7B,CAA3B;AACA,QAAMG,KAAK,GAAEV,WAAW,CAACQ,KAAK,IAAGA,KAAK,CAACC,aAAN,CAAoBC,KAA7B,CAAxB,CAJiC,CAKlC;;AACC,QAAMC,UAAU,GAAGX,WAAW,CAACQ,KAAK,IAAGA,KAAK,CAACC,aAAN,CAAoBE,UAA7B,CAA9B;AAEA,QAAMC,QAAQ,GAAGX,WAAW,EAA5B;AACA,QAAMY,QAAQ,GAAGd,WAAW,EAA5B,CATiC,CAUjC;AACA;AACA;AACD;;AACC,QAAMe,WAAW,GAAE,CAACC,IAAD,EAAMC,QAAN,KAAkB;AACnC,UAAMC,eAAe,GAAGF,IAAI,CAACG,KAAL,CAAW,CAACF,QAAQ,GAAC,CAAV,IAAa,EAAxB,EAA2B,EAA3B,CAAxB;AACA,WAAOC,eAAP;AACD,GAHD;;AAIA,QAAME,YAAY,GAAG,CAACH,QAAD,EAAWI,QAAX,KAAuB,CAEzC;AACD;AAED,GALD;;AAOA,MAAIb,OAAJ,EAAa;AACT,wBACE,QAAC,IAAD;AACA,MAAA,IAAI,EAAC,OADL;AAEA,MAAA,KAAK,EAAE;AACLc,QAAAA,SAAS,EAAE,GADN;AAELC,QAAAA,YAAY,EAAE,GAFT;AAGLC,QAAAA,UAAU,EAAE,MAHP;AAILC,QAAAA,WAAW,EAAC,MAJP;AAKLC,QAAAA,KAAK,EAAE;AALF;AAFP;AAAA;AAAA;AAAA;AAAA,YADF;AAYD,GAbH,MAcO,IAAIf,KAAJ,EAAY;AACf,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AACH,sBACI;AAAA,2BACI,QAAC,UAAD;AAAA,6BACI;AAAK,QAAA,SAAS,EAAEhB,MAAM,CAAC,cAAD,CAAtB;AAAA,gCACI;AAAK,UAAA,SAAS,EAAEA,MAAM,CAAC,wBAAD,CAAtB;AAAA,iCACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAK,UAAA,SAAS,EAAEA,MAAM,CAAC,wBAAD,CAAtB;AAAA,iCACI,QAAC,WAAD;AACI,YAAA,IAAI,EAAGU,cADX,CAEA;AAFA;AAGI,YAAA,MAAM,EAAIO,UAHd;AAII,YAAA,YAAY,EAAIQ;AAJpB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAmBH,CA7DM;;GAAMd,M;UACYP,S,EAELE,W,EACHA,W,EAEMA,W,EAEFC,W,EACAF,W;;;KATRM,M","sourcesContent":["import styles from './Search.module.css';\nimport React, {useEffect} from 'react';\nimport {Header, Footer, FilterArea, ProductList} from '../../components';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { useSelector } from '../../redux/hooks';\nimport { useDispatch } from 'react-redux';\nimport { searchProduct, ProductSearchSlice} from '../../redux/productSearch/slice';\nimport { Spin } from 'antd';\nimport { STATEMENT_OR_BLOCK_KEYS } from '@babel/types';\nimport { MainLayout } from '../../layout/mainLayout';\nimport { searchProducts } from \"./mockup\";\ninterface Params {\n    keywords: string \n  }\nexport const Search : React.FC =()=> {\n    const { keywords } = useParams<Params>();\n    //const loading = useSelector(state =>state.productSearch.loading)\n    const loading = useSelector(state=> state.productSearch.loading);\n    const error= useSelector(state=> state.productSearch.error);\n   // const productList = useSelector(state=> state.productSearch.data);\n    const pagination = useSelector(state=> state.productSearch.pagination);\n\n    const dispatch = useDispatch();\n    const location = useLocation();\n    // useEffect(()=>{\n    //     dispatch(searchProduct({nextPage:1, pageSize: 10, keywords}))\n    // },[location])\n   // const pageSize = pagination.pageSize;\n    const getPageData =(data,nextPage)=> {\n      const currentPageData = data.slice((nextPage-1)*10,10);\n      return currentPageData;\n    }\n    const onPageChange = (nextPage, pageSize)=> {\n\n       // dispatch(searchProduct({nextPage, pageSize, keywords}))\n      // searchProducts = searchProducts.slice((nextPage-1)*pageSize,pageSize)\n      \n    }\n\n    if( loading) {\n        return (\n          <Spin\n          size=\"large\"\n          style={{\n            marginTop: 200,\n            marginBottom: 200,\n            marginLeft: \"auto\",\n            marginRight:\"auto\",\n            width: \"100%\"\n          }}\n          />\n        )\n      }\n      else if( error ) {\n        return <div>something is error</div>\n      }\n    return (\n        <div>\n            <MainLayout>\n                <div className={styles[\"page-content\"]}>\n                    <div className={styles[\"product-list-container\"]}>\n                        <FilterArea />\n                    </div>\n                    <div className={styles[\"product-list-container\"]}>\n                        <ProductList \n                            data= {searchProducts}\n                        // data = {getPageData(searchProducts,pagination.currentPage)}\n                            paging = {pagination}\n                            onPageChange = {onPageChange}\n                        />\n                    </div>\n                </div>\n          </MainLayout>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}