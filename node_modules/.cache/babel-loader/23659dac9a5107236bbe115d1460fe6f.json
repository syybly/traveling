{"ast":null,"code":"import _regeneratorRuntime from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Form,Input,Button,Checkbox}from'antd';import styles from'./RegisterForm.module.css';import axios from'axios';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RegisterForm=function RegisterForm(){var history=useHistory();var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('Success:',values);_context.prev=1;_context.next=4;return axios.post('http://123.56.149.216:8080/auth/register',{email:values.username,password:values.password,confirmPassword:values.confirm});case 4:history.push('/signIn/');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);if(_context.t0 instanceof Error){alert(\"register failed\");}case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();var onFinishFailed=function onFinishFailed(errorInfo){console.log('Failed:',errorInfo);};return/*#__PURE__*/_jsxs(Form,{name:\"basic\",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:true},onFinish:onFinish,onFinishFailed:onFinishFailed,autoComplete:\"off\",className:styles['register-form'],children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Username\",name:\"username\",rules:[{required:true,message:'Please input your username!'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Password\",name:\"password\",rules:[{required:true,message:'Please input your password!'}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Confirm Password\",name:\"Confirm\",hasFeedback:true,rules:[{required:true,message:'Please confirm your password!'},function(_ref2){var getFieldValue=_ref2.getFieldValue;return{validator:function validator(_,value){if(!value||getFieldValue(\"password\")===value){return Promise.resolve();}return Promise.reject(\"password not indentical !\");}};}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"remember\",valuePropName:\"checked\",wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsx(Checkbox,{children:\"Remember me\"})}),/*#__PURE__*/_jsx(Form.Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Submit\"})})]});};","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/pages/register/RegisterForm.tsx"],"names":["Form","Input","Button","Checkbox","styles","axios","useHistory","RegisterForm","history","onFinish","values","console","log","post","email","username","password","confirmPassword","confirm","push","Error","alert","onFinishFailed","errorInfo","span","remember","required","message","getFieldValue","validator","_","value","Promise","resolve","reject","offset"],"mappings":"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","sourcesContent":["import { Form, Input, Button, Checkbox } from 'antd';\nimport styles from './RegisterForm.module.css';\nimport axios from 'axios';\nimport {useHistory} from 'react-router-dom';\nexport const RegisterForm = () => {\n    const history = useHistory();\n  const onFinish = async (values: any) => {\n    console.log('Success:', values);\n    \n    try{\n    await axios.post('http://123.56.149.216:8080/auth/register',{\n        email: values.username,\n        password: values.password,\n        confirmPassword: values.confirm\n    });\n    history.push('/signIn/');\n}catch (error) {\n    if(error instanceof Error) {\n        alert(\"register failed\")\n    }\n}\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return (\n    <Form\n      name=\"basic\"\n      labelCol={{ span: 8 }}\n      wrapperCol={{ span: 16 }}\n      initialValues={{ remember: true }}\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n      autoComplete=\"off\"\n      className={styles['register-form']}\n    >\n      <Form.Item\n        label=\"Username\"\n        name=\"username\"\n        rules={[{ required: true, message: 'Please input your username!' }]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Password\"\n        name=\"password\"\n        rules={[{ required: true, message: 'Please input your password!' },\n     \n    ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Confirm Password\"\n        name=\"Confirm\"\n        hasFeedback\n        rules={[{ required: true, message: 'Please confirm your password!' },\n        (({getFieldValue})=> ({\n            validator(_,value) {\n                if(!value || getFieldValue(\"password\")===value) {\n                    return Promise.resolve()\n                }\n                return Promise.reject(\"password not indentical !\");\n            }\n        }))\n    ]}\n      >\n        <Input.Password />\n      </Form.Item>\n      <Form.Item name=\"remember\" valuePropName=\"checked\" wrapperCol={{ offset: 8, span: 16 }}>\n        <Checkbox>Remember me</Checkbox>\n      </Form.Item>\n\n      <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};"]},"metadata":{},"sourceType":"module"}