{"ast":null,"code":"import _defineProperty from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';import{checkOut}from'../shoppingCart/slice';var initialState={loading:false,error:null,currentOrder:null};export var placeOrder=createAsyncThunk(\"order/placeOrder\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(parameters,thunkAPI){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://123.56.149.216:8080/api/orders/\".concat(parameters.orderId,\"/placeOrder\"),null,{headers:{Authorization:\"bearer \".concat(parameters.jwt)}});case 2:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var PlaceOrderSlice=createSlice({name:\"placeOrder\",initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,placeOrder.pending.type,function(state){state.loading=true;}),_defineProperty(_extraReducers,placeOrder.fulfilled.type,function(state,action){state.loading=false;state.currentOrder=action.payload;state.error=null;}),_defineProperty(_extraReducers,placeOrder.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_defineProperty(_extraReducers,checkOut.pending.type,function(state){state.loading=true;}),_defineProperty(_extraReducers,checkOut.fulfilled.type,function(state,action){state.loading=false;state.currentOrder=action.payload;state.error=null;}),_defineProperty(_extraReducers,checkOut.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_extraReducers)});","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/redux/order/slice.ts"],"names":["createSlice","createAsyncThunk","axios","checkOut","initialState","loading","error","currentOrder","placeOrder","parameters","thunkAPI","post","orderId","headers","Authorization","jwt","data","PlaceOrderSlice","name","reducers","extraReducers","pending","type","state","fulfilled","action","payload","rejected"],"mappings":"6dAAA,OAASA,WAAT,CAAqCC,gBAArC,KAA6D,kBAA7D,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,uBAAzB,CAOA,GAAMC,CAAAA,YAAwB,CAAG,CAC7BC,OAAO,CAAE,KADoB,CAE7BC,KAAK,CAAE,IAFsB,CAG7BC,YAAY,CAAE,IAHe,CAAjC,CAOA,MAAO,IAAMC,CAAAA,UAAU,CAAGP,gBAAgB,CACtC,kBADsC,0FAEtC,iBAAOQ,UAAP,CAAoDC,QAApD,mKACuBR,CAAAA,KAAK,CAACS,IAAN,iDAAoDF,UAAU,CAACG,OAA/D,gBAAoF,IAApF,CAAyF,CACxGC,OAAO,CAAE,CACLC,aAAa,kBAAYL,UAAU,CAACM,GAAvB,CADR,CAD+F,CAAzF,CADvB,wCACUC,IADV,mBACUA,IADV,iCAMWA,IANX,wDAFsC,mEAAnC,CAaP,MAAO,IAAMC,CAAAA,eAAe,CAAGjB,WAAW,CAAC,CACvCkB,IAAI,CAAE,YADiC,CAEvCd,YAAY,CAAZA,YAFuC,CAGvCe,QAAQ,CAAE,EAH6B,CAMvCC,aAAa,mDACRZ,UAAU,CAACa,OAAX,CAAmBC,IADX,CACkB,SAACC,KAAD,CAAU,CACjCA,KAAK,CAAClB,OAAN,CAAe,IAAf,CACH,CAHQ,iCAIRG,UAAU,CAACgB,SAAX,CAAqBF,IAJb,CAIoB,SAACC,KAAD,CAAQE,MAAR,CAAiB,CAC1CF,KAAK,CAAClB,OAAN,CAAgB,KAAhB,CACAkB,KAAK,CAAChB,YAAN,CAAqBkB,MAAM,CAACC,OAA5B,CACAH,KAAK,CAACjB,KAAN,CAAc,IAAd,CACH,CARQ,iCASRE,UAAU,CAACmB,QAAX,CAAoBL,IATZ,CASmB,SAACC,KAAD,CAAQE,MAAR,CAAgD,CAExEF,KAAK,CAAClB,OAAN,CAAgB,KAAhB,CACAkB,KAAK,CAACjB,KAAN,CAAamB,MAAM,CAACC,OAApB,CACH,CAbQ,iCAcRvB,QAAQ,CAACkB,OAAT,CAAiBC,IAdT,CAcgB,SAACC,KAAD,CAAU,CAC/BA,KAAK,CAAClB,OAAN,CAAe,IAAf,CACH,CAhBQ,iCAiBRF,QAAQ,CAACqB,SAAT,CAAmBF,IAjBX,CAiBkB,SAACC,KAAD,CAAQE,MAAR,CAAiB,CACxCF,KAAK,CAAClB,OAAN,CAAgB,KAAhB,CACAkB,KAAK,CAAChB,YAAN,CAAqBkB,MAAM,CAACC,OAA5B,CACAH,KAAK,CAACjB,KAAN,CAAc,IAAd,CACH,CArBQ,iCAsBRH,QAAQ,CAACwB,QAAT,CAAkBL,IAtBV,CAsBiB,SAACC,KAAD,CAAQE,MAAR,CAAgD,CAEtEF,KAAK,CAAClB,OAAN,CAAgB,KAAhB,CACAkB,KAAK,CAACjB,KAAN,CAAamB,MAAM,CAACC,OAApB,CACH,CA1BQ,iBAN0B,CAAD,CAAnC","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { checkOut } from '../shoppingCart/slice';\ninterface OrderState {\n    loading: boolean,\n    error: string | null,\n    currentOrder: any\n}\n\nconst initialState: OrderState = {\n    loading: false,\n    error: null,\n    currentOrder: null\n\n}\n\nexport const placeOrder = createAsyncThunk(\n    \"order/placeOrder\",\n    async (parameters :{ jwt: string, orderId: string}, thunkAPI)=> {\n        const{data}= await axios.post(`http://123.56.149.216:8080/api/orders/${parameters.orderId}/placeOrder`,null,{\n            headers: {\n                Authorization: `bearer ${parameters.jwt}`\n            }\n        });\n        return data;\n            }\n)   \n    \n\nexport const PlaceOrderSlice = createSlice({\n    name: \"placeOrder\",\n    initialState,\n    reducers: {\n       \n    },\n    extraReducers: {\n        [placeOrder.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [placeOrder.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.currentOrder = action.payload;\n            state.error = null\n        },\n        [placeOrder.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n        [checkOut.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [checkOut.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.currentOrder = action.payload;\n            state.error = null\n        },\n        [checkOut.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        }\n    }\n})"]},"metadata":{},"sourceType":"module"}