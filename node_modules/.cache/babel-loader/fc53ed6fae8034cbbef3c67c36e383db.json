{"ast":null,"code":"import React from'react';import{useParams}from'react-router-dom';import{Row,Col,Typography,Spin,DatePicker,Divider,Button}from\"antd\";import styles from\"./Detail.module.css\";import{commentMockData,productDetail}from'./mockup';import{useSelector}from'../../redux/hooks';import{ProductIntro,ProductComments}from\"../../components\";import{useDispatch}from'react-redux';import{MainLayout}from'../../layout/mainLayout';import{ShoppingCartOutlined}from'@ant-design/icons';import{addItem}from'../../redux/shoppingCart/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RangePicker=DatePicker.RangePicker;export var Detail=function Detail(props){var _useParams=useParams(),touristRouteId=_useParams.touristRouteId;// const [loading, setLoading] = useState<boolean>(true);\n// const [product,setProduct] = useState<any>(null);\n//const [error, setError] = useState<string | null>(null);\nvar loading=useSelector(function(state){return state.productDetail.loading;});var error=useSelector(function(state){return state.productDetail.error;});//const product = useSelector(state=> state.productDetail.data);\nvar product=productDetail;var dispatch=useDispatch();var jwt=useSelector(function(state){return state.user.token;});var shoppingCartloading=useSelector(function(state){return state.shoppingCart.loading;});// useEffect(()=> {\n//     dispatch(getProductDetail(touristRouteId));\n// },[])\nif(loading){return/*#__PURE__*/_jsx(Spin,{size:\"large\",style:{marginTop:200,marginBottom:200,marginLeft:\"auto\",marginRight:\"auto\",width:\"100%\"}});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:\"something is error\"});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles[\"page-content\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"product-intro-container\"],children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{span:13,children:/*#__PURE__*/_jsx(ProductIntro,{title:product.title,description:product.description,price:product.originalPrice,coupons:product.discountPresent,discount:product.price,rating:product.rating,pictures:product.touristRoutePictures.map(function(p){return p.url;})})}),/*#__PURE__*/_jsxs(Col,{span:11,children:[/*#__PURE__*/_jsxs(Button,{style:{marginTop:30,marginBottom:50,display:\"block\"},type:\"primary\",danger:true,loading:shoppingCartloading,onClick:function onClick(){// dispatch(addShoppingCartItem({jwt, touristRouteId: product.id}))\ndispatch(addItem(product));},children:[/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),\"Add ShoppingCart\"]}),/*#__PURE__*/_jsx(RangePicker,{open:true,style:{marginTop:20}})]})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"feature\",className:styles[\"product-detail-container\"],children:[/*#__PURE__*/_jsx(Divider,{orientation:\"center\",children:/*#__PURE__*/_jsx(Typography.Title,{level:3,children:\"Product Features\"})}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:product.features},style:{margin:50}})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"fees\",className:styles[\"product-detail-container\"],children:[/*#__PURE__*/_jsx(Divider,{orientation:\"center\",children:/*#__PURE__*/_jsx(Typography.Title,{level:3,children:\"Product Fees\"})}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:product.fees},style:{margin:50}})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"comments\",className:styles[\"product-detail-container\"],children:[/*#__PURE__*/_jsx(Divider,{orientation:\"center\",children:/*#__PURE__*/_jsx(Typography.Title,{level:3,children:\"User Comments\"})}),/*#__PURE__*/_jsx(\"div\",{style:{margin:40},children:/*#__PURE__*/_jsx(ProductComments,{data:commentMockData})})]})]})})});}};","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/pages/details/Detail.tsx"],"names":["React","useParams","Row","Col","Typography","Spin","DatePicker","Divider","Button","styles","commentMockData","productDetail","useSelector","ProductIntro","ProductComments","useDispatch","MainLayout","ShoppingCartOutlined","addItem","RangePicker","Detail","props","touristRouteId","loading","state","error","product","dispatch","jwt","user","token","shoppingCartloading","shoppingCart","marginTop","marginBottom","marginLeft","marginRight","width","title","description","originalPrice","discountPresent","price","rating","touristRoutePictures","map","p","url","display","__html","features","margin","fees"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect} from 'react';\nimport { RouteComponentProps, useParams}  from 'react-router-dom';\nimport { Row, Col, Typography, Spin, DatePicker, Divider, Anchor, Menu, Button } from \"antd\";\nimport styles from \"./Detail.module.css\";\nimport { commentMockData, productDetail } from './mockup';\nimport { ProductDetailSlice , getProductDetail} from '../../redux/productDetail/slice';\nimport { useSelector } from '../../redux/hooks';\nimport {\n    Header,\n    Footer,\n    ProductIntro,\n    ProductComments\n  } from \"../../components\";\nimport axios from 'axios';\nimport MenuItem from 'antd/lib/menu/MenuItem';\nimport { useDispatch } from 'react-redux';\nimport { MainLayout } from '../../layout/mainLayout';\nimport { ShoppingCartOutlined } from '@ant-design/icons';\nimport { addShoppingCartItem , addItem} from '../../redux/shoppingCart/slice';\ninterface MatchParams{\n    touristRouteId: string;\n}\n\nconst { RangePicker } = DatePicker;\nexport const Detail : React.FC<RouteComponentProps<MatchParams>> = (props)=> {\n    const {touristRouteId} = useParams<MatchParams>();\n   // const [loading, setLoading] = useState<boolean>(true);\n   // const [product,setProduct] = useState<any>(null);\n    //const [error, setError] = useState<string | null>(null);\n    const loading = useSelector(state=> state.productDetail.loading);\n    const error = useSelector(state=> state.productDetail.error);\n    //const product = useSelector(state=> state.productDetail.data);\n    const product = productDetail\n    const dispatch = useDispatch();\n    const jwt = useSelector(state=> state.user.token) as string;\n    const shoppingCartloading = useSelector(state =>state.shoppingCart.loading)\n    // useEffect(()=> {\n    //     dispatch(getProductDetail(touristRouteId));\n    // },[])\n\n    if( loading) {\n        return (\n          <Spin\n          size=\"large\"\n          style={{\n            marginTop: 200,\n            marginBottom: 200,\n            marginLeft: \"auto\",\n            marginRight:\"auto\",\n            width: \"100%\"\n          }}\n          />\n        )\n      }\n      if( error ) {\n        return <div>something is error</div>\n      }else {\n    return (\n        <div>\n       <MainLayout>\n        <div className={styles[\"page-content\"]}>\n                <div className={styles[\"product-intro-container\"]}>\n                    <Row>\n                        <Col span={13}>\n                          <ProductIntro\n                            title={product.title}\n                            description={product.description}\n                            price={product.originalPrice}\n                            coupons={product.discountPresent}\n                            discount={product.price}\n                            rating={product.rating}\n                            pictures={product.touristRoutePictures.map(p=> p.url)}\n                        /></Col>\n                        <Col span={11}>\n                          <Button style={{marginTop:30, marginBottom:50, display:\"block\"}} type=\"primary\" danger loading={shoppingCartloading}\n                          onClick={()=> {\n                           // dispatch(addShoppingCartItem({jwt, touristRouteId: product.id}))\n                            dispatch(addItem(product))\n                          }}\n                          >\n                            <ShoppingCartOutlined/>\n                            Add ShoppingCart</Button>\n                          <RangePicker open style={{marginTop:20}}/>\n                          </Col>\n                    </Row>\n                     </div>\n                {/* <Anchor className={styles[\"product-detail-anchor\"]}>\n                  <Menu mode=\"horizontal\">\n                    <MenuItem key=\"1\"></MenuItem>\n                    <Anchor.Link \n                      href='#feature' title=\"Product Features\"\n                    ></Anchor.Link>\n                    <MenuItem key=\"2\"></MenuItem>\n                    <Anchor.Link \n                      href='#fees' title=\"Product Fees\"\n                    ></Anchor.Link>\n                \n                    <MenuItem key=\"3\"></MenuItem>\n                    <Anchor.Link \n                      href='#comments' title=\"User Comments\"\n                    ></Anchor.Link>\n                  </Menu>\n                </Anchor> */}\n                <div id=\"feature\" className={styles[\"product-detail-container\"]}>\n                  <Divider orientation=\"center\">\n                    <Typography.Title level={3}>Product Features</Typography.Title>\n                  </Divider>\n                  <div dangerouslySetInnerHTML={{__html:product.features}}\n                  style={{margin:50}}\n                  ></div>\n                </div>\n                <div id=\"fees\" className={styles[\"product-detail-container\"]}>\n                <Divider orientation=\"center\">\n                    <Typography.Title level={3}>Product Fees</Typography.Title>\n                  </Divider>\n                  <div dangerouslySetInnerHTML={{__html:product.fees}}\n                  style={{margin:50}}\n                  ></div>\n                </div>\n                \n                <div id=\"comments\" className={styles[\"product-detail-container\"]}>\n                <Divider orientation=\"center\">\n                    <Typography.Title level={3}>User Comments</Typography.Title>\n                  </Divider>\n                 <div style={{margin:40}}>\n                   <ProductComments\n                     data={commentMockData}\n                   />\n                 </div>\n                </div>\n            </div>\n       </MainLayout>\n        </div>\n    )\n      }\n}"]},"metadata":{},"sourceType":"module"}