{"ast":null,"code":"var _jsxFileName = \"/Users/melony/Desktop/react-travel/src/components/header/Header.class.tsx\";\nimport React from \"react\";\nimport styles from \"./Header.module.css\";\nimport logo from \"../../assets/logo.svg\";\nimport { Layout, Typography, Input, Menu, Button, Dropdown } from \"antd\";\nimport { GlobalOutlined } from \"@ant-design/icons\";\nimport { withRouter } from \"react-router-dom\";\nimport { withTranslation } from \"react-i18next\";\nimport { addLanguageActionCreator, changeLanguageActionCreator } from \"../../redux/language/languageActions\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HeaderComponnet extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.menuClickHandler = e => {\n      console.log(\"this is e\", e);\n\n      if (e.key === \"new\") {\n        // 处理新语言添加action\n        // const action = addLanguageActionCreator(\"new_lang\",\"新语言\" );\n        // store.dispatch(action);\n        this.props.addLanguage(\"new_language\", \"new_lang\");\n      } else {\n        this.props.changeLanguage(e.key); // const action = changeLanguageActionCreator(e.key);\n        // store.dispatch(action);\n      }\n    };\n  }\n\n  render() {\n    const {\n      history,\n      t\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"app-header\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"top-header\"],\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.inner,\n          children: [/*#__PURE__*/_jsxDEV(Typography.Text, {\n            children: t(\"header.slogan\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Button, {\n            style: {\n              marginLeft: 15\n            },\n            overlay: /*#__PURE__*/_jsxDEV(Menu, {\n              onClick: this.menuClickHandler,\n              children: [this.props.languageList.map(l => {\n                return /*#__PURE__*/_jsxDEV(Menu.Item, {\n                  children: l.name\n                }, l.code, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 28\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(Menu.Item, {\n                children: t(\"header.add_new_language\")\n              }, \"new\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this),\n            icon: /*#__PURE__*/_jsxDEV(GlobalOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 21\n            }, this),\n            children: this.props.language === \"zh\" ? \"中文\" : \"English\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button.Group, {\n            className: styles[\"button-group\"],\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => history.push(\"register\"),\n              children: t(\"header.register\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => history.push(\"signIn\"),\n              children: t(\"header.signin\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Layout.Header, {\n        className: styles[\"main-header\"],\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => history.push(\"/\"),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"logo\",\n            className: styles[\"App-logo\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            className: styles.title,\n            children: t(\"header.title\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input.Search, {\n          placeholder: \"请输入旅游目的地、主题、或关键字\",\n          className: styles[\"search-input\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        mode: \"horizontal\",\n        className: styles[\"main-menu\"],\n        children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.home_page\"), \" \"]\n        }, \"1\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.weekend\"), \" \"]\n        }, \"2\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.group\"), \" \"]\n        }, \"3\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.backpack\"), \" \"]\n        }, \"4\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.private\"), \" \"]\n        }, \"5\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.cruise\"), \" \"]\n        }, \"6\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.hotel\"), \" \"]\n        }, \"7\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.local\"), \" \"]\n        }, \"8\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.theme\"), \" \"]\n        }, \"9\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.custom\"), \" \"]\n        }, \"10\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.study\"), \" \"]\n        }, \"11\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.visa\"), \" \"]\n        }, \"12\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.enterprise\"), \" \"]\n        }, \"13\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.high_end\"), \" \"]\n        }, \"14\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.outdoor\"), \" \"]\n        }, \"15\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: [\" \", t(\"header.insurance\"), \" \"]\n        }, \"16\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    language: state.language,\n    languageList: state.languageList\n  };\n};\n\nconst mapStateToDispatch = dispatch => {\n  return {\n    changeLanguage: code => {\n      const action = changeLanguageActionCreator(code);\n      dispatch(action);\n    },\n    addLanguage: (name, code) => {\n      const action = addLanguageActionCreator(name, code);\n      dispatch(action);\n    }\n  };\n}; //export const Header = withTranslation()(withRouter(HeaderComponnet));\n\n\nexport const Header = connect(mapStateToProps, mapStateToDispatch)(withTranslation()(withRouter(HeaderComponnet)));","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/components/header/Header.class.tsx"],"names":["React","styles","Layout","Typography","Input","Menu","Button","Dropdown","GlobalOutlined","withRouter","withTranslation","addLanguageActionCreator","changeLanguageActionCreator","connect","HeaderComponnet","Component","menuClickHandler","e","console","log","key","props","addLanguage","changeLanguage","render","history","t","inner","marginLeft","languageList","map","l","name","code","language","push","logo","title","mapStateToProps","state","mapStateToDispatch","dispatch","action","Header"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./Header.module.css\";\nimport logo from \"../../assets/logo.svg\";\nimport { Layout, Typography, Input, Menu, Button, Dropdown } from \"antd\";\nimport { GlobalOutlined } from \"@ant-design/icons\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\nimport store ,{RootState}from \"../../redux/store\";\nimport { Dispatch } from \"redux\";\nimport { LanguageState } from \"../../redux/language/languageReducer\";\nimport { withTranslation, WithTranslation } from \"react-i18next\";\nimport { addLanguageActionCreator, changeLanguageActionCreator} from \"../../redux/language/languageActions\";\nimport { connect } from \"react-redux\";\ninterface State extends LanguageState {}\n\ntype PropTypes = RouteComponentProps & WithTranslation & ReturnType<typeof mapStateToProps> & ReturnType<typeof mapStateToDispatch>;\nclass HeaderComponnet extends React.Component<PropTypes> {\n  // constructor(props) {\n  //   super(props);\n  //   const storeState = store.getState();\n  //   this.state = {\n  //     language: storeState.language,\n  //     languageList: storeState.languageList,\n  //   };\n  //  // store.subscribe(this.handleStoreChange);\n  // }\n\n  // componentDidMount() {\n\t// \tstore.subscribe(this.handleStoreChange);\n\t// }\n\n  // handleStoreChange = () => {\n  //   const storeState = store.getState();\n  //   this.setState({\n  //     language: storeState.language,\n  //     languageList: storeState.languageList,\n  //   });\n  // };\n\n  menuClickHandler = (e) => {\n    console.log(\"this is e\",e);\n    if (e.key === \"new\") {\n      // 处理新语言添加action\n      // const action = addLanguageActionCreator(\"new_lang\",\"新语言\" );\n      // store.dispatch(action);\n      this.props.addLanguage(\"new_language\",\"new_lang\")\n      \n    } else {\n      this.props.changeLanguage(e.key);\n      // const action = changeLanguageActionCreator(e.key);\n      // store.dispatch(action);\n    }\n  };\n\n  render() {\n    const { history, t } = this.props;\n    return (\n      <div className={styles[\"app-header\"]}>\n        {/* top-header */}\n        <div className={styles[\"top-header\"]}>\n          <div className={styles.inner}>\n            <Typography.Text>{t(\"header.slogan\")}</Typography.Text>\n            <Dropdown.Button\n              style={{ marginLeft: 15 }}\n              overlay={\n                <Menu onClick={this.menuClickHandler}>\n                  {this.props.languageList.map((l) => {\n                    return <Menu.Item key={l.code}>{l.name}</Menu.Item>;\n                  })}\n                  <Menu.Item key={\"new\"}>\n                    {t(\"header.add_new_language\")}\n                  </Menu.Item>\n                </Menu>\n              }\n              icon={<GlobalOutlined />}\n            >\n              {this.props.language === \"zh\" ? \"中文\" : \"English\"}\n            </Dropdown.Button>\n            <Button.Group className={styles[\"button-group\"]}>\n              <Button onClick={() => history.push(\"register\")}>\n                {t(\"header.register\")}\n              </Button>\n              <Button onClick={() => history.push(\"signIn\")}>\n                {t(\"header.signin\")}\n              </Button>\n            </Button.Group>\n          </div>\n        </div>\n        <Layout.Header className={styles[\"main-header\"]}>\n          <span onClick={() => history.push(\"/\")}>\n            <img src={logo} alt=\"logo\" className={styles[\"App-logo\"]} />\n            <Typography.Title level={3} className={styles.title}>\n              {t(\"header.title\")}\n            </Typography.Title>\n          </span>\n          <Input.Search\n            placeholder={\"请输入旅游目的地、主题、或关键字\"}\n            className={styles[\"search-input\"]}\n          />\n        </Layout.Header>\n        <Menu mode={\"horizontal\"} className={styles[\"main-menu\"]}>\n          <Menu.Item key=\"1\"> {t(\"header.home_page\")} </Menu.Item>\n          <Menu.Item key=\"2\"> {t(\"header.weekend\")} </Menu.Item>\n          <Menu.Item key=\"3\"> {t(\"header.group\")} </Menu.Item>\n          <Menu.Item key=\"4\"> {t(\"header.backpack\")} </Menu.Item>\n          <Menu.Item key=\"5\"> {t(\"header.private\")} </Menu.Item>\n          <Menu.Item key=\"6\"> {t(\"header.cruise\")} </Menu.Item>\n          <Menu.Item key=\"7\"> {t(\"header.hotel\")} </Menu.Item>\n          <Menu.Item key=\"8\"> {t(\"header.local\")} </Menu.Item>\n          <Menu.Item key=\"9\"> {t(\"header.theme\")} </Menu.Item>\n          <Menu.Item key=\"10\"> {t(\"header.custom\")} </Menu.Item>\n          <Menu.Item key=\"11\"> {t(\"header.study\")} </Menu.Item>\n          <Menu.Item key=\"12\"> {t(\"header.visa\")} </Menu.Item>\n          <Menu.Item key=\"13\"> {t(\"header.enterprise\")} </Menu.Item>\n          <Menu.Item key=\"14\"> {t(\"header.high_end\")} </Menu.Item>\n          <Menu.Item key=\"15\"> {t(\"header.outdoor\")} </Menu.Item>\n          <Menu.Item key=\"16\"> {t(\"header.insurance\")} </Menu.Item>\n        </Menu>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    language: state.language,\n    languageList: state.languageList\n  }\n}\n\nconst mapStateToDispatch = (dispatch :Dispatch ) => {\n  return {\n    changeLanguage: (code:\"zh\"|\"en\")=> {\n      const action = changeLanguageActionCreator(code);\n      dispatch(action);\n    },\n    addLanguage:(name:string, code:string)=> {\n      const action = addLanguageActionCreator(name, code);\n      dispatch(action);\n    }\n  }\n}\n//export const Header = withTranslation()(withRouter(HeaderComponnet));\nexport const Header = connect(mapStateToProps,mapStateToDispatch) (withTranslation()(withRouter(HeaderComponnet)));\n"]},"metadata":{},"sourceType":"module"}