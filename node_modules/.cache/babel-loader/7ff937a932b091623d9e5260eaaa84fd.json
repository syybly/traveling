{"ast":null,"code":"import React,{useEffect}from'react';import{useParams}from'react-router-dom';import{Row,Col,Typography,Spin,DatePicker,Divider,Anchor,Menu,Button}from\"antd\";import styles from\"./Detail.module.css\";import{commentMockData}from'./mockup';import{getProductDetail}from'../../redux/productDetail/slice';import{useSelector}from'../../redux/hooks';import{ProductIntro,ProductComments}from\"../../components\";import MenuItem from'antd/lib/menu/MenuItem';import{useDispatch}from'react-redux';import{MainLayout}from'../../layout/mainLayout';import{ShoppingCartOutlined}from'@ant-design/icons';import{addShoppingCartItem}from'../../redux/shoppingCart/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RangePicker=DatePicker.RangePicker;export var Detail=function Detail(props){var _useParams=useParams(),touristRouteId=_useParams.touristRouteId;// const [loading, setLoading] = useState<boolean>(true);\n// const [product,setProduct] = useState<any>(null);\n//const [error, setError] = useState<string | null>(null);\nvar loading=useSelector(function(state){return state.productDetail.loading;});var error=useSelector(function(state){return state.productDetail.error;});var product=useSelector(function(state){return state.productDetail.data;});var dispatch=useDispatch();var jwt=useSelector(function(state){return state.user.token;});var shoppingCartloading=useSelector(function(state){return state.shoppingCart.loading;});useEffect(function(){dispatch(getProductDetail(touristRouteId));},[]);if(loading){return/*#__PURE__*/_jsx(Spin,{size:\"large\",style:{marginTop:200,marginBottom:200,marginLeft:\"auto\",marginRight:\"auto\",width:\"100%\"}});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:\"something is error\"});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles[\"page-content\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"product-intro-container\"],children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{span:13,children:/*#__PURE__*/_jsx(ProductIntro,{title:product.title,description:product.description,price:product.originalPrice,coupons:product.conpons,points:product.points,discount:product.price,rating:product.rating,pictures:product.touristRoutePictures.map(function(p){return p.url;})})}),/*#__PURE__*/_jsxs(Col,{span:11,children:[/*#__PURE__*/_jsxs(Button,{style:{marginTop:30,marginBottom:50,display:\"block\"},type:\"primary\",danger:true,loading:shoppingCartloading,onClick:function onClick(){dispatch(addShoppingCartItem({jwt:jwt,touristRouteId:product.id}));},children:[/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),\"Add ShoppingCart\"]}),/*#__PURE__*/_jsx(RangePicker,{open:true,style:{marginTop:20}})]})]})}),/*#__PURE__*/_jsx(Anchor,{className:styles[\"product-detail-anchor\"],children:/*#__PURE__*/_jsxs(Menu,{mode:\"horizontal\",children:[/*#__PURE__*/_jsx(MenuItem,{},\"1\"),/*#__PURE__*/_jsx(Anchor.Link,{href:\"#feature\",title:\"Product Features\"}),/*#__PURE__*/_jsx(MenuItem,{},\"2\"),/*#__PURE__*/_jsx(Anchor.Link,{href:\"#fees\",title:\"Product Fees\"}),/*#__PURE__*/_jsx(MenuItem,{},\"3\"),/*#__PURE__*/_jsx(Anchor.Link,{href:\"#notes\",title:\"Product Notes\"}),/*#__PURE__*/_jsx(MenuItem,{},\"4\"),/*#__PURE__*/_jsx(Anchor.Link,{href:\"#comments\",title:\"User Comments\"})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"feature\",className:styles[\"product-detail-container\"],children:[/*#__PURE__*/_jsx(Divider,{orientation:\"center\",children:/*#__PURE__*/_jsx(Typography.Title,{level:3,children:\"Product Features\"})}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:product.features},style:{margin:50}})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"fees\",className:styles[\"product-detail-container\"],children:[/*#__PURE__*/_jsx(Divider,{orientation:\"center\",children:/*#__PURE__*/_jsx(Typography.Title,{level:3,children:\"Product Fees\"})}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:product.fees},style:{margin:50}})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"notes\",className:styles[\"product-detail-container\"],children:[/*#__PURE__*/_jsx(Divider,{orientation:\"center\",children:/*#__PURE__*/_jsx(Typography.Title,{level:3,children:\"Product Notes\"})}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:product.notes},style:{margin:50}})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"comments\",className:styles[\"product-detail-container\"],children:[/*#__PURE__*/_jsx(Divider,{orientation:\"center\",children:/*#__PURE__*/_jsx(Typography.Title,{level:3,children:\"User Comments\"})}),/*#__PURE__*/_jsx(\"div\",{style:{margin:40},children:/*#__PURE__*/_jsx(ProductComments,{data:commentMockData})})]})]})})});}};","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/pages/details/Detail.tsx"],"names":["React","useEffect","useParams","Row","Col","Typography","Spin","DatePicker","Divider","Anchor","Menu","Button","styles","commentMockData","getProductDetail","useSelector","ProductIntro","ProductComments","MenuItem","useDispatch","MainLayout","ShoppingCartOutlined","addShoppingCartItem","RangePicker","Detail","props","touristRouteId","loading","state","productDetail","error","product","data","dispatch","jwt","user","token","shoppingCartloading","shoppingCart","marginTop","marginBottom","marginLeft","marginRight","width","title","description","originalPrice","conpons","points","price","rating","touristRoutePictures","map","p","url","display","id","__html","features","margin","fees","notes"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect} from 'react';\nimport { RouteComponentProps, useParams}  from 'react-router-dom';\nimport { Row, Col, Typography, Spin, DatePicker, Divider, Anchor, Menu, Button } from \"antd\";\nimport styles from \"./Detail.module.css\";\nimport { commentMockData } from './mockup';\nimport { ProductDetailSlice , getProductDetail} from '../../redux/productDetail/slice';\nimport { useSelector } from '../../redux/hooks';\nimport {\n    Header,\n    Footer,\n    ProductIntro,\n    ProductComments\n  } from \"../../components\";\nimport axios from 'axios';\nimport MenuItem from 'antd/lib/menu/MenuItem';\nimport { useDispatch } from 'react-redux';\nimport { MainLayout } from '../../layout/mainLayout';\nimport { ShoppingCartOutlined } from '@ant-design/icons';\nimport { addShoppingCartItem } from '../../redux/shoppingCart/slice';\ninterface MatchParams{\n    touristRouteId: string;\n}\n\nconst { RangePicker } = DatePicker;\nexport const Detail : React.FC<RouteComponentProps<MatchParams>> = (props)=> {\n    const {touristRouteId} = useParams<MatchParams>();\n   // const [loading, setLoading] = useState<boolean>(true);\n   // const [product,setProduct] = useState<any>(null);\n    //const [error, setError] = useState<string | null>(null);\n    const loading = useSelector(state=> state.productDetail.loading);\n    const error = useSelector(state=> state.productDetail.error);\n    const product = useSelector(state=> state.productDetail.data);\n\n    const dispatch = useDispatch();\n    const jwt = useSelector(state=> state.user.token) as string;\n    const shoppingCartloading = useSelector(state =>state.shoppingCart.loading)\n    useEffect(()=> {\n        dispatch(getProductDetail(touristRouteId));\n    },[])\n\n    if( loading) {\n        return (\n          <Spin\n          size=\"large\"\n          style={{\n            marginTop: 200,\n            marginBottom: 200,\n            marginLeft: \"auto\",\n            marginRight:\"auto\",\n            width: \"100%\"\n          }}\n          />\n        )\n      }\n      if( error ) {\n        return <div>something is error</div>\n      }else {\n    return (\n        <div>\n       <MainLayout>\n        <div className={styles[\"page-content\"]}>\n                <div className={styles[\"product-intro-container\"]}>\n                    <Row>\n                        <Col span={13}>\n                          <ProductIntro\n                            title={product.title}\n                            description={product.description}\n                            price={product.originalPrice}\n                            coupons={product.conpons}\n                            points={product.points}\n                            discount={product.price}\n                            rating={product.rating}\n                            pictures={product.touristRoutePictures.map(p=> p.url)}\n                        /></Col>\n                        <Col span={11}>\n                          <Button style={{marginTop:30, marginBottom:50, display:\"block\"}} type=\"primary\" danger loading={shoppingCartloading}\n                          onClick={()=> {\n                            dispatch(addShoppingCartItem({jwt, touristRouteId: product.id}))\n                          }}\n                          >\n                            <ShoppingCartOutlined/>\n                            Add ShoppingCart</Button>\n                          <RangePicker open style={{marginTop:20}}/>\n                          </Col>\n                    </Row>\n                     </div>\n                <Anchor className={styles[\"product-detail-anchor\"]}>\n                  <Menu mode=\"horizontal\">\n                    <MenuItem key=\"1\"></MenuItem>\n                    <Anchor.Link \n                      href='#feature' title=\"Product Features\"\n                    ></Anchor.Link>\n                    <MenuItem key=\"2\"></MenuItem>\n                    <Anchor.Link \n                      href='#fees' title=\"Product Fees\"\n                    ></Anchor.Link>\n                    <MenuItem key=\"3\"></MenuItem>\n                    <Anchor.Link \n                      href='#notes' title=\"Product Notes\"\n                    ></Anchor.Link>\n                    <MenuItem key=\"4\"></MenuItem>\n                    <Anchor.Link \n                      href='#comments' title=\"User Comments\"\n                    ></Anchor.Link>\n                  </Menu>\n                </Anchor>\n                <div id=\"feature\" className={styles[\"product-detail-container\"]}>\n                  <Divider orientation=\"center\">\n                    <Typography.Title level={3}>Product Features</Typography.Title>\n                  </Divider>\n                  <div dangerouslySetInnerHTML={{__html:product.features}}\n                  style={{margin:50}}\n                  ></div>\n                </div>\n                <div id=\"fees\" className={styles[\"product-detail-container\"]}>\n                <Divider orientation=\"center\">\n                    <Typography.Title level={3}>Product Fees</Typography.Title>\n                  </Divider>\n                  <div dangerouslySetInnerHTML={{__html:product.fees}}\n                  style={{margin:50}}\n                  ></div>\n                </div>\n                <div id=\"notes\" className={styles[\"product-detail-container\"]}>\n                <Divider orientation=\"center\">\n                    <Typography.Title level={3}>Product Notes</Typography.Title>\n                  </Divider>\n                  <div dangerouslySetInnerHTML={{__html:product.notes}}\n                  style={{margin:50}}\n                  ></div>\n                </div>\n                <div id=\"comments\" className={styles[\"product-detail-container\"]}>\n                <Divider orientation=\"center\">\n                    <Typography.Title level={3}>User Comments</Typography.Title>\n                  </Divider>\n                 <div style={{margin:40}}>\n                   <ProductComments\n                     data={commentMockData}\n                   />\n                 </div>\n                </div>\n            </div>\n       </MainLayout>\n        </div>\n    )\n      }\n}"]},"metadata":{},"sourceType":"module"}