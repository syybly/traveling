{"ast":null,"code":"import _defineProperty from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';var initialState={loading:true,error:null,items:[]};export var getShoppingCart=createAsyncThunk(\"shoppingCart/getShoppingCart\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(jwt,thunkAPI){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://123.56.149.216:8080/api/shoppingCart\",{headers:{Authorization:\"bearer \".concat(jwt)}});case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data.shoppingCartItems);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var addShoppingCartItem=createAsyncThunk(\"shoppingCart/addShoppingCartItem\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(parameters,thunkAPI){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"http://123.56.149.216:8080/api/shoppingCart/items\",{touristRouteId:parameters.touristRouteId},{headers:{Authorization:\"bearer \".concat(parameters.jwt)}});case 2:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;return _context2.abrupt(\"return\",data.shoppingCartItems);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var checkOut=createAsyncThunk(\"shoppingCart/checkOut\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(jwt,thunkAPI){var _yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(\"http://123.56.149.216:8080/api/shoppingCart/checkout\",null,{headers:{Authorization:\"bearer \".concat(jwt)}});case 2:_yield$axios$post2=_context3.sent;data=_yield$axios$post2.data;return _context3.abrupt(\"return\",data);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());export var clearShoppingCartItem=createAsyncThunk(\"shoppingCart/clearShoppingCartItem\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(parameters,thunkAPI){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.delete(\"http://123.56.149.216:8080/api/shoppingCart/items/(\".concat(parameters.itemIds.join(','),\")\"),{headers:{Authorization:\"bearer \".concat(parameters.jwt)}});case 2:return _context4.abrupt(\"return\",_context4.sent);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}());export var ShoppingCartSlice=createSlice({name:\"shoppingCart\",initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getShoppingCart.pending.type,function(state){state.loading=true;}),_defineProperty(_extraReducers,getShoppingCart.fulfilled.type,function(state,action){state.loading=false;state.items=action.payload;state.error=null;}),_defineProperty(_extraReducers,getShoppingCart.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_defineProperty(_extraReducers,addShoppingCartItem.pending.type,function(state){state.loading=true;}),_defineProperty(_extraReducers,addShoppingCartItem.fulfilled.type,function(state,action){state.loading=false;state.items=action.payload;state.error=null;}),_defineProperty(_extraReducers,addShoppingCartItem.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_defineProperty(_extraReducers,clearShoppingCartItem.pending.type,function(state){state.loading=true;}),_defineProperty(_extraReducers,clearShoppingCartItem.fulfilled.type,function(state){state.loading=false;state.items=[];state.error=null;}),_defineProperty(_extraReducers,clearShoppingCartItem.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_defineProperty(_extraReducers,checkOut.pending.type,function(state){state.loading=true;}),_defineProperty(_extraReducers,checkOut.fulfilled.type,function(state,action){state.loading=false;state.items=[];state.error=null;}),_defineProperty(_extraReducers,checkOut.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_extraReducers)});","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/redux/shoppingCart/slice.ts"],"names":["createSlice","createAsyncThunk","axios","initialState","loading","error","items","getShoppingCart","jwt","thunkAPI","get","headers","Authorization","data","shoppingCartItems","addShoppingCartItem","parameters","post","touristRouteId","checkOut","clearShoppingCartItem","delete","itemIds","join","ShoppingCartSlice","name","reducers","extraReducers","pending","type","state","fulfilled","action","payload","rejected"],"mappings":"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","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\ninterface ShoppingCartState {\n    loading: boolean,\n    error: string | null,\n    items: any[]\n}\n\nconst initialState: ShoppingCartState = {\n    loading: true,\n    error: null,\n    items: []\n\n}\n\nexport const getShoppingCart = createAsyncThunk(\n    \"shoppingCart/getShoppingCart\",\n    async (jwt: string, thunkAPI)=> {\n        const{data}= await axios.get(`http://123.56.149.216:8080/api/shoppingCart`,{\n            headers:{\n                Authorization: `bearer ${jwt}`\n            }\n        });\n        return data.shoppingCartItems;\n            }\n) ;  \n\nexport const addShoppingCartItem = createAsyncThunk(\n    \"shoppingCart/addShoppingCartItem\",\n    async (parameters: {jwt: string, touristRouteId: string}, thunkAPI)=> {\n        const{data}= await axios.post(`http://123.56.149.216:8080/api/shoppingCart/items`,{\n           touristRouteId: parameters.touristRouteId\n        },\n        {\n            headers:{\n                Authorization: `bearer ${parameters.jwt}`\n            }\n        });\n        return data.shoppingCartItems;\n            }\n) ; \n\nexport const checkOut = createAsyncThunk(\n    \"shoppingCart/checkOut\",\n    async ( jwt: string, thunkAPI)=> {\n        const{data}= await axios.post(`http://123.56.149.216:8080/api/shoppingCart/checkout`,null,\n        {\n            headers:{\n                Authorization: `bearer ${jwt}`\n            }\n        });\n        return data;\n            }\n) ; \n    \nexport const clearShoppingCartItem = createAsyncThunk(\n    \"shoppingCart/clearShoppingCartItem\",\n    async (parameters: {jwt: string; itemIds: number[]}, thunkAPI)=> {\n        return await axios.delete(`http://123.56.149.216:8080/api/shoppingCart/items/(${parameters.itemIds.join(',')})`,\n        {\n            headers:{\n                Authorization: `bearer ${parameters.jwt}`\n            }\n        });\n       \n            }\n) ; \n\nexport const ShoppingCartSlice = createSlice({\n    name: \"shoppingCart\",\n    initialState,\n    reducers: {\n       \n    },\n    extraReducers: {\n        [getShoppingCart.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [getShoppingCart.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.items = action.payload;\n            state.error = null\n        },\n        [getShoppingCart.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n        [addShoppingCartItem.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [addShoppingCartItem.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.items = action.payload;\n            state.error = null\n        },\n        [addShoppingCartItem.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n        [clearShoppingCartItem.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [clearShoppingCartItem.fulfilled.type]: (state)=>{\n            state.loading = false;\n            state.items = [];\n            state.error = null\n        },\n        [clearShoppingCartItem.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n        [checkOut.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [checkOut.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.items = [];\n            state.error = null\n        },\n        [checkOut.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n    }\n})"]},"metadata":{},"sourceType":"module"}