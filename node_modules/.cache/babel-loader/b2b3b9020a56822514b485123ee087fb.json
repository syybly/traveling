{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  loading: false,\n  error: null,\n  token: null\n};\nexport const signIn = createAsyncThunk(\"user/signIn\", async (parameters, thunkAPI) => {\n  const {\n    data\n  } = await axios.post(`http://123.56.149.216:8080/auth/login`, {\n    email: parameters.email,\n    password: parameters.password\n  });\n  return data.token;\n});\nexport const UserSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [signIn.pending.type]: state => {\n      state.loading = true;\n    },\n    [signIn.fulfilled.type]: (state, action) => {\n      state.loading = false;\n      state.token = action.payload;\n      state.error = null;\n    },\n    [signIn.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }\n  }\n});","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/redux/user/slice.ts"],"names":["createSlice","createAsyncThunk","axios","initialState","loading","error","token","signIn","parameters","thunkAPI","data","post","email","password","UserSlice","name","reducers","extraReducers","pending","type","state","fulfilled","action","payload","rejected"],"mappings":"AAAA,SAASA,WAAT,EAAqCC,gBAArC,QAA6D,kBAA7D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAOA,MAAMC,YAAuB,GAAG;AAC5BC,EAAAA,OAAO,EAAE,KADmB;AAE5BC,EAAAA,KAAK,EAAE,IAFqB;AAG5BC,EAAAA,KAAK,EAAE;AAHqB,CAAhC;AAOA,OAAO,MAAMC,MAAM,GAAGN,gBAAgB,CAClC,aADkC,EAElC,OAAOO,UAAP,EAGGC,QAHH,KAGe;AACX,QAAK;AAACC,IAAAA;AAAD,MAAQ,MAAMR,KAAK,CAACS,IAAN,CAAY,uCAAZ,EAAmD;AAClEC,IAAAA,KAAK,EAAEJ,UAAU,CAACI,KADgD;AAElEC,IAAAA,QAAQ,EAAEL,UAAU,CAACK;AAF6C,GAAnD,CAAnB;AAIA,SAAOH,IAAI,CAACJ,KAAZ;AACK,CAXyB,CAA/B;AAeP,OAAO,MAAMQ,SAAS,GAAGd,WAAW,CAAC;AACjCe,EAAAA,IAAI,EAAE,MAD2B;AAEjCZ,EAAAA,YAFiC;AAGjCa,EAAAA,QAAQ,EAAE,EAHuB;AAMjCC,EAAAA,aAAa,EAAE;AACX,KAACV,MAAM,CAACW,OAAP,CAAeC,IAAhB,GAAwBC,KAAD,IAAU;AAC7BA,MAAAA,KAAK,CAAChB,OAAN,GAAe,IAAf;AACH,KAHU;AAIX,KAACG,MAAM,CAACc,SAAP,CAAiBF,IAAlB,GAAyB,CAACC,KAAD,EAAQE,MAAR,KAAiB;AACtCF,MAAAA,KAAK,CAAChB,OAAN,GAAgB,KAAhB;AACAgB,MAAAA,KAAK,CAACd,KAAN,GAAcgB,MAAM,CAACC,OAArB;AACAH,MAAAA,KAAK,CAACf,KAAN,GAAc,IAAd;AACH,KARU;AASX,KAACE,MAAM,CAACiB,QAAP,CAAgBL,IAAjB,GAAwB,CAACC,KAAD,EAAQE,MAAR,KAAgD;AAEpEF,MAAAA,KAAK,CAAChB,OAAN,GAAgB,KAAhB;AACAgB,MAAAA,KAAK,CAACf,KAAN,GAAaiB,MAAM,CAACC,OAApB;AACH;AAbU;AANkB,CAAD,CAA7B","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\ninterface UserState {\n    loading: boolean,\n    error: string | null,\n    token: string | null\n}\n\nconst initialState: UserState = {\n    loading: false,\n    error: null,\n    token: null\n\n}\n\nexport const signIn = createAsyncThunk(\n    \"user/signIn\",\n    async (parameters: {\n        email: string,\n        password: string\n    }, thunkAPI)=> {\n        const{data}= await axios.post(`http://123.56.149.216:8080/auth/login`,{\n            email: parameters.email,\n            password: parameters.password\n        });\n        return data.token;\n            }\n)   \n    \n\nexport const UserSlice = createSlice({\n    name: \"user\",\n    initialState,\n    reducers: {\n       \n    },\n    extraReducers: {\n        [signIn.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [signIn.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.token = action.payload;\n            state.error = null\n        },\n        [signIn.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        }\n    }\n})"]},"metadata":{},"sourceType":"module"}