{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  loading: true,\n  error: null,\n  items: []\n};\nexport const getShoppingCart = createAsyncThunk(\"shoppingCart/getShoppingCart\", async (jwt, thunkAPI) => {\n  const {\n    data\n  } = await axios.get(`http://123.56.149.216:8080/api/shoppingCart`, {\n    headers: {\n      Authorization: `bearer ${jwt}`\n    }\n  });\n  return data.shoppingCartItems;\n});\nexport const addShoppingCartItem = createAsyncThunk(\"shoppingCart/addShoppingCartItem\", async (parameters, thunkAPI) => {\n  const {\n    data\n  } = await axios.post(`http://123.56.149.216:8080/api/shoppingCart/items`, {\n    touristRouteId: parameters.touristRouteId\n  }, {\n    headers: {\n      Authorization: `bearer ${parameters.jwt}`\n    }\n  });\n  return data.shoppingCartItems;\n});\nexport const checkOut = createAsyncThunk(\"shoppingCart/checkOut\", async (jwt, thunkAPI) => {\n  const {\n    data\n  } = await axios.post(`http://123.56.149.216:8080/api/shoppingCart/checkout`, null, {\n    headers: {\n      Authorization: `bearer ${jwt}`\n    }\n  });\n  return data;\n});\nexport const clearShoppingCartItem = createAsyncThunk(\"shoppingCart/clearShoppingCartItem\", async (parameters, thunkAPI) => {\n  return await axios.delete(`http://123.56.149.216:8080/api/shoppingCart/items/(${parameters.itemIds.join(',')})`, {\n    headers: {\n      Authorization: `bearer ${parameters.jwt}`\n    }\n  });\n});\nexport const ShoppingCartSlice = createSlice({\n  name: \"shoppingCart\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getShoppingCart.pending.type]: state => {\n      state.loading = true;\n    },\n    [getShoppingCart.fulfilled.type]: (state, action) => {\n      state.loading = false;\n      state.items = action.payload;\n      state.error = null;\n    },\n    [getShoppingCart.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    [addShoppingCartItem.pending.type]: state => {\n      state.loading = true;\n    },\n    [addShoppingCartItem.fulfilled.type]: (state, action) => {\n      state.loading = false;\n      state.items = action.payload;\n      state.error = null;\n    },\n    [addShoppingCartItem.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    [clearShoppingCartItem.pending.type]: state => {\n      state.loading = true;\n    },\n    [clearShoppingCartItem.fulfilled.type]: state => {\n      state.loading = false;\n      state.items = [];\n      state.error = null;\n    },\n    [clearShoppingCartItem.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    [checkOut.pending.type]: state => {\n      state.loading = true;\n    },\n    [checkOut.fulfilled.type]: (state, action) => {\n      state.loading = false;\n      state.items = [];\n      state.error = null;\n    },\n    [checkOut.rejected.type]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }\n  }\n});","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/redux/shoppingCart/slice.ts"],"names":["createSlice","createAsyncThunk","axios","initialState","loading","error","items","getShoppingCart","jwt","thunkAPI","data","get","headers","Authorization","shoppingCartItems","addShoppingCartItem","parameters","post","touristRouteId","checkOut","clearShoppingCartItem","delete","itemIds","join","ShoppingCartSlice","name","reducers","extraReducers","pending","type","state","fulfilled","action","payload","rejected"],"mappings":"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","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\ninterface ShoppingCartState {\n    loading: boolean,\n    error: string | null,\n    items: any[]\n}\n\nconst initialState: ShoppingCartState = {\n    loading: true,\n    error: null,\n    items: []\n\n}\n\nexport const getShoppingCart = createAsyncThunk(\n    \"shoppingCart/getShoppingCart\",\n    async (jwt: string, thunkAPI)=> {\n        const{data}= await axios.get(`http://123.56.149.216:8080/api/shoppingCart`,{\n            headers:{\n                Authorization: `bearer ${jwt}`\n            }\n        });\n        return data.shoppingCartItems;\n            }\n) ;  \n\nexport const addShoppingCartItem = createAsyncThunk(\n    \"shoppingCart/addShoppingCartItem\",\n    async (parameters: {jwt: string, touristRouteId: string}, thunkAPI)=> {\n        const{data}= await axios.post(`http://123.56.149.216:8080/api/shoppingCart/items`,{\n           touristRouteId: parameters.touristRouteId\n        },\n        {\n            headers:{\n                Authorization: `bearer ${parameters.jwt}`\n            }\n        });\n        return data.shoppingCartItems;\n            }\n) ; \n\nexport const checkOut = createAsyncThunk(\n    \"shoppingCart/checkOut\",\n    async ( jwt: string, thunkAPI)=> {\n        const{data}= await axios.post(`http://123.56.149.216:8080/api/shoppingCart/checkout`,null,\n        {\n            headers:{\n                Authorization: `bearer ${jwt}`\n            }\n        });\n        return data;\n            }\n) ; \n    \nexport const clearShoppingCartItem = createAsyncThunk(\n    \"shoppingCart/clearShoppingCartItem\",\n    async (parameters: {jwt: string; itemIds: number[]}, thunkAPI)=> {\n        return await axios.delete(`http://123.56.149.216:8080/api/shoppingCart/items/(${parameters.itemIds.join(',')})`,\n        {\n            headers:{\n                Authorization: `bearer ${parameters.jwt}`\n            }\n        });\n       \n            }\n) ; \n\nexport const ShoppingCartSlice = createSlice({\n    name: \"shoppingCart\",\n    initialState,\n    reducers: {\n       \n    },\n    extraReducers: {\n        [getShoppingCart.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [getShoppingCart.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.items = action.payload;\n            state.error = null\n        },\n        [getShoppingCart.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n        [addShoppingCartItem.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [addShoppingCartItem.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.items = action.payload;\n            state.error = null\n        },\n        [addShoppingCartItem.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n        [clearShoppingCartItem.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [clearShoppingCartItem.fulfilled.type]: (state)=>{\n            state.loading = false;\n            state.items = [];\n            state.error = null\n        },\n        [clearShoppingCartItem.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n        [checkOut.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [checkOut.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.items = [];\n            state.error = null\n        },\n        [checkOut.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        },\n    }\n})"]},"metadata":{},"sourceType":"module"}