{"ast":null,"code":"import _defineProperty from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/melony/Desktop/react-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';var initialState={loading:false,error:null,token:null};export var signIn=createAsyncThunk(\"user/signIn\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(parameters,thunkAPI){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://123.56.149.216:8080/auth/login\",{email:parameters.email,password:parameters.password});case 2:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data.token);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var UserSlice=createSlice({name:\"user\",initialState:initialState,reducers:{logOut:function logOut(state){state.token=null;state.error=null;state.loading=false;}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,signIn.pending.type,function(state){state.loading=true;}),_defineProperty(_extraReducers,signIn.fulfilled.type,function(state,action){state.loading=false;state.token=action.payload;state.error=null;}),_defineProperty(_extraReducers,signIn.rejected.type,function(state,action){state.loading=false;state.error=action.payload;}),_extraReducers)});","map":{"version":3,"sources":["/Users/melony/Desktop/react-travel/src/redux/user/slice.ts"],"names":["createSlice","createAsyncThunk","axios","initialState","loading","error","token","signIn","parameters","thunkAPI","post","email","password","data","UserSlice","name","reducers","logOut","state","extraReducers","pending","type","fulfilled","action","payload","rejected"],"mappings":"6dAAA,OAASA,WAAT,CAAqCC,gBAArC,KAA6D,kBAA7D,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAOA,GAAMC,CAAAA,YAAuB,CAAG,CAC5BC,OAAO,CAAE,KADmB,CAE5BC,KAAK,CAAE,IAFqB,CAG5BC,KAAK,CAAE,IAHqB,CAAhC,CAOA,MAAO,IAAMC,CAAAA,MAAM,CAAGN,gBAAgB,CAClC,aADkC,0FAElC,iBAAOO,UAAP,CAGGC,QAHH,mKAIuBP,CAAAA,KAAK,CAACQ,IAAN,yCAAmD,CAClEC,KAAK,CAAEH,UAAU,CAACG,KADgD,CAElEC,QAAQ,CAAEJ,UAAU,CAACI,QAF6C,CAAnD,CAJvB,wCAIUC,IAJV,mBAIUA,IAJV,iCAQWA,IAAI,CAACP,KARhB,wDAFkC,mEAA/B,CAeP,MAAO,IAAMQ,CAAAA,SAAS,CAAGd,WAAW,CAAC,CACjCe,IAAI,CAAE,MAD2B,CAEjCZ,YAAY,CAAZA,YAFiC,CAGjCa,QAAQ,CAAE,CACNC,MAAM,CAAC,gBAACC,KAAD,CAAW,CACdA,KAAK,CAACZ,KAAN,CAAc,IAAd,CACAY,KAAK,CAACb,KAAN,CAAc,IAAd,CACAa,KAAK,CAACd,OAAN,CAAgB,KAAhB,CACH,CALK,CAHuB,CAUjCe,aAAa,mDACRZ,MAAM,CAACa,OAAP,CAAeC,IADP,CACc,SAACH,KAAD,CAAU,CAC7BA,KAAK,CAACd,OAAN,CAAe,IAAf,CACH,CAHQ,iCAIRG,MAAM,CAACe,SAAP,CAAiBD,IAJT,CAIgB,SAACH,KAAD,CAAQK,MAAR,CAAiB,CACtCL,KAAK,CAACd,OAAN,CAAgB,KAAhB,CACAc,KAAK,CAACZ,KAAN,CAAciB,MAAM,CAACC,OAArB,CACAN,KAAK,CAACb,KAAN,CAAc,IAAd,CACH,CARQ,iCASRE,MAAM,CAACkB,QAAP,CAAgBJ,IATR,CASe,SAACH,KAAD,CAAQK,MAAR,CAAgD,CAEpEL,KAAK,CAACd,OAAN,CAAgB,KAAhB,CACAc,KAAK,CAACb,KAAN,CAAakB,MAAM,CAACC,OAApB,CACH,CAbQ,iBAVoB,CAAD,CAA7B","sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\ninterface UserState {\n    loading: boolean,\n    error: string | null,\n    token: string | null\n}\n\nconst initialState: UserState = {\n    loading: false,\n    error: null,\n    token: null\n\n}\n\nexport const signIn = createAsyncThunk(\n    \"user/signIn\",\n    async (parameters: {\n        email: string,\n        password: string\n    }, thunkAPI)=> {\n        const{data}= await axios.post(`http://123.56.149.216:8080/auth/login`,{\n            email: parameters.email,\n            password: parameters.password\n        });\n        return data.token;\n            }\n)   \n    \n\nexport const UserSlice = createSlice({\n    name: \"user\",\n    initialState,\n    reducers: {\n        logOut:(state) => {\n            state.token = null;\n            state.error = null;\n            state.loading = false\n        }\n    },\n    extraReducers: {\n        [signIn.pending.type]: (state)=> {\n            state.loading= true;\n        },\n        [signIn.fulfilled.type]: (state, action)=>{\n            state.loading = false;\n            state.token = action.payload;\n            state.error = null\n        },\n        [signIn.rejected.type]: (state, action: PayloadAction<string | null>)=> {\n           \n            state.loading = false;\n            state.error= action.payload\n        }\n    }\n})"]},"metadata":{},"sourceType":"module"}